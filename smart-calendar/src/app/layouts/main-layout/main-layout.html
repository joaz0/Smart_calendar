<div class="layout-wrapper" [class.sidebar-collapsed]="sidebarCollapsed()">
  <aside class="layout-sidebar">
    <app-sidebar [collapsed]="sidebarCollapsed()"></app-sidebar>
  </aside>

  <main class="layout-main">
    <app-header (toggleSidebar)="toggleSidebar()"></app-header>

    <div class="layout-content">
      <router-outlet></router-outlet>
    </div>
  </main>

  <!-- Loading Overlay -->
  @if (isLoading) {
    <div class="loading-overlay">
      <app-loading-spinner></app-loading-spinner>
    </div>
  }

  <!-- Mobile Sidebar Backdrop -->
  @if (sidebarOpen && isMobile) {
    <div class="sidebar-backdrop"
      (click)="closeSidebar()" (keydown.enter)="closeSidebar()" (keydown.space)="closeSidebar()" tabindex="0" role="button">
    </div>
  }
</div>
