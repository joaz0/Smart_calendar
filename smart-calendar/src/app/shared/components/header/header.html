<header class="app-header" role="banner">
  <div class="header-inner">
    <!-- Hamburger Menu -->
    <button class="hamburger-menu" 
            (click)="onToggleSidebar()" 
            matTooltip="Menu"
            aria-label="Menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    
    <!-- Brand -->
    <div class="brand">
      <div class="logo-container">
        <img src="/assets/images/Logo_light.png" 
             alt="AgendaRápido" 
             class="logo-img"
             loading="lazy"> 
      </div>
      <div class="brand-text">
        <span class="brand-name">AgendaRápido</span>
        <span class="brand-tagline">Smart Calendar</span>
      </div>
    </div>
    
    <!-- Spacer -->
    <div class="header-spacer"></div>
    
    <!-- Header Actions -->
    <div class="header-actions">
      <!-- Theme Toggle -->
      <app-theme-toggle></app-theme-toggle>
      
      <!-- Notifications -->
      <button mat-icon-button 
              class="action-btn notifications-btn"
              (click)="onOpenNotifications()"
              [matBadge]="notifications()"
              [matBadgeHidden]="notifications() === 0"
              matBadgeColor="warn"
              matBadgeSize="small"
              matTooltip="Notificações"
              aria-label="Notificações">
        <mat-icon>notifications</mat-icon>
      </button>
      
      <!-- User Profile -->
      <div class="user-profile" 
           [matMenuTriggerFor]="userMenu"
           matTooltip="Perfil"
           role="button"
           tabindex="0">
        <div class="user-avatar">
          <img *ngIf="user.avatar; else initials" 
               [src]="user.avatar" 
               [alt]="user.name || 'Avatar'"
               class="avatar-img"
               loading="lazy">
          <ng-template #initials>
            <span class="avatar-text">{{ getUserInitials() }}</span>
          </ng-template>
        </div>
      </div>
    </div>
  </div>
  
  <!-- User Menu -->
  <mat-menu #userMenu="matMenu" class="user-dropdown">
    <button mat-menu-item (click)="onOpenProfile()">
      <mat-icon>person</mat-icon>
      <span>Meu Perfil</span>
    </button>
    <button mat-menu-item>
      <mat-icon>settings</mat-icon>
      <span>Configurações</span>
    </button>
    <button mat-menu-item>
      <mat-icon>help</mat-icon>
      <span>Ajuda</span>
    </button>
    <mat-divider></mat-divider>
    <button mat-menu-item (click)="onLogout()" class="logout-menu-item">
      <mat-icon>logout</mat-icon>
      <span>Sair</span>
    </button>
  </mat-menu>
</header>