<aside class="sidebar" [class.collapsed]="!isOpen" [class.open]="isOpen" aria-label="Navegação principal">
  <!-- Header -->
  <div class="sidebar-header">
    <a routerLink="/" class="brand">
      <img src="../../assets/images/logo.png" alt="Logo Smart Calendar" />
      <span class="brand-text">SmartCalendar</span>
    </a>
    <button class="toggle-btn"
            (click)="onToggleSidebar()"
            [attr.aria-label]="isOpen ? 'Recolher sidebar' : 'Expandir sidebar'"
            [attr.aria-expanded]="isOpen">
      <mat-icon>{{ isOpen ? 'menu' : 'close' }}</mat-icon>
    </button>
  </div>

  <!-- Navigation -->
  <nav class="sidebar-nav" role="navigation" aria-label="Navegação principal">
    <!-- Seção: Principal -->
    <div class="nav-section">
      <div class="section-label">Principal</div>

      <a routerLink="/dashboard"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Dashboard' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>dashboard</mat-icon></span>
        <span class="nav-text">Dashboard</span>
      </a>

      <a routerLink="/calendar"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Calendário' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>event</mat-icon></span>
        <span class="nav-text">Calendário</span>
        <span class="nav-badge" *ngIf="stats.todayEvents > 0">{{ stats.todayEvents }}</span>
      </a>

      <!-- Item Tarefas -->
      <a class="nav-item"
         routerLink="/app/tasks"
         routerLinkActive="active"
         [matTooltip]="!isOpen ? 'Tarefas' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>task_alt</mat-icon></span>
        <span class="nav-text">Tarefas</span>
        <span class="nav-badge" *ngIf="stats.pendingTasks > 0">{{ stats.pendingTasks }}</span>
      </a>
    </div>

    <!-- Seção: Organização -->
    <div class="nav-section">
      <div class="section-label">Organização</div>

      <a routerLink="/projects"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Projetos' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>folder</mat-icon></span>
        <span class="nav-text">Projetos</span>
      </a>

      <a routerLink="/tags"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Tags' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>label</mat-icon></span>
        <span class="nav-text">Tags</span>
      </a>

      <a routerLink="/categories"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Categorias' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>category</mat-icon></span>
        <span class="nav-text">Categorias</span>
      </a>
    </div>

    <!-- Seção: Insights -->
    <div class="nav-section">
      <div class="section-label">Insights</div>

      <a routerLink="/analytics"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Análises' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>analytics</mat-icon></span>
        <span class="nav-text">Análises</span>
      </a>

      <a routerLink="/reports"
         routerLinkActive="active"
         class="nav-item"
         [matTooltip]="!isOpen ? 'Relatórios' : ''"
         matTooltipPosition="right">
        <span class="nav-icon"><mat-icon>assessment</mat-icon></span>
        <span class="nav-text">Relatórios</span>
      </a>
    </div>
  </nav>

  <!-- Footer (opcional) -->
  <div class="sidebar-footer" *ngIf="isOpen">
    <a routerLink="/settings"
       class="footer-item"
       [matTooltip]="!isOpen ? 'Configurações' : ''"
       matTooltipPosition="right">
      <mat-icon>settings</mat-icon>
      <span>Configurações</span>
    </a>
  </div>
</aside>

<!-- Overlay para mobile -->
<div class="sidebar-overlay"
     [class.active]="!isOpen"
     (click)="onToggleSidebar()">
</div>
