<div class="poll-creator">
  <h2>ğŸ—³ï¸ Criar Enquete de Agendamento</h2>

  <form (ngSubmit)="createPoll()">
    <div class="form-group">
      <label for="pollTitle">TÃ­tulo da Enquete</label>
      <input id="pollTitle" type="text" [(ngModel)]="poll.title" name="title" required>
    </div>

    <div class="form-group">
      <label for="pollDuration">DuraÃ§Ã£o (minutos)</label>
      <input id="pollDuration" type="number" [(ngModel)]="poll.duration" name="duration" min="15" step="15">
    </div>

    <div class="time-slots">
      <h3>OpÃ§Ãµes de HorÃ¡rio</h3>
      @for (slot of poll.timeSlots; track $index) {
        <div class="slot-row">
          <input type="date" [(ngModel)]="slot.date" [name]="'date'+$index">
          <input type="time" [(ngModel)]="slot.start" [name]="'start'+$index">
          <input type="time" [(ngModel)]="slot.end" [name]="'end'+$index">
          <button type="button" (click)="removeSlot($index)">ğŸ—‘ï¸</button>
        </div>
      }
      <button type="button" class="btn-add" (click)="addSlot()">+ Adicionar HorÃ¡rio</button>
    </div>

    <button type="submit" class="btn-primary">Criar Enquete</button>
  </form>

  @if (createdPollId) {
    <div class="poll-link">
      <h3>âœ… Enquete Criada!</h3>
      <div class="link-box">
        <input type="text" [value]="getPollLink()" readonly>
        <button (click)="copyLink()">ğŸ“‹ Copiar</button>
      </div>
    </div>
  }
</div>
