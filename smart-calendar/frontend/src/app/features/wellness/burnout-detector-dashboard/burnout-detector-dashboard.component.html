<div class="burnout-dashboard">
  <h2>ğŸš¨ Detector de Burnout</h2>

  @if (analysis) {
    <div class="risk-card" [class]="'risk-' + analysis.level">
      <div class="risk-score">
        <div class="score-circle">
          <svg viewBox="0 0 100 100">
            <circle cx="50" cy="50" r="45" fill="none" stroke="var(--placeholder-border)" stroke-width="8"/>
            <circle cx="50" cy="50" r="45" fill="none" [attr.stroke]="getRiskColor()" stroke-width="8"
                    [style.stroke-dasharray]="283" [style.stroke-dashoffset]="283 - (283 * analysis.riskScore)"/>
          </svg>
          <div class="score-text">{{(analysis.riskScore * 100).toFixed(0)}}%</div>
        </div>
        <h3>Risco: {{getRiskLabel()}}</h3>
      </div>

      <div class="factors">
        <h3>âš ï¸ Fatores de Risco</h3>
        <ul>
          @for (factor of analysis.factors; track factor) {
            <li>{{factor}}</li>
          }
        </ul>
      </div>

      <div class="recommendations">
        <h3>ğŸ’¡ RecomendaÃ§Ãµes</h3>
        <ul>
          @for (rec of analysis.recommendations; track rec) {
            <li>{{rec}}</li>
          }
        </ul>
      </div>
    </div>
  }

  <button class="btn-analyze" (click)="analyze()">ğŸ”„ Analisar Novamente</button>
</div>
