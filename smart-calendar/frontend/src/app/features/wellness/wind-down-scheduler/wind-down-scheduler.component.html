<div class="wind-down">
  <h2>ğŸŒ™ HorÃ¡rio de Desacelerar</h2>

  <div class="config-card">
    <div class="form-group">
      <label for="sleepTimeInput">HorÃ¡rio de Dormir</label>
      <input id="sleepTimeInput" type="time" [(ngModel)]="settings.sleepTime">
    </div>

    <div class="form-group">
      <label for="windDownInput">Tempo de DesaceleraÃ§Ã£o (minutos)</label>
      <input id="windDownInput" type="number" [(ngModel)]="settings.windDownDuration" min="30" step="15">
    </div>

    <div class="blocked-categories">
      <h3>Bloquear Categorias:</h3>
      @for (cat of categories; track cat.id) {
        <label>
          <input type="checkbox" [checked]="isBlocked(cat.id)" (change)="toggleCategory(cat.id)">
          <span>{{cat.name}}</span>
        </label>
      }
    </div>

    <button class="btn-save" (click)="save()">ğŸ’¾ Salvar ConfiguraÃ§Ãµes</button>
  </div>

  @if (violations.length > 0) {
    <div class="violations-card">
      <h3>âš ï¸ Eventos em Conflito</h3>
      @for (v of violations; track v.id) {
        <div class="violation-item">
          <div class="event-info">
            <strong>{{v.title}}</strong>
            <span>{{v.time}}</span>
          </div>
          <button (click)="reschedule(v.id)">ğŸ“… Reagendar</button>
        </div>
      }
    </div>
  }
</div>
